# ============================================
# ngrok Configuration - Fizko Backend
# ============================================
# Configuración para exponer el backend local a través de ngrok
# permitiendo recibir webhooks de servicios externos (Kapso, SII, etc.)
#
# Uso:
#   docker-compose --profile dev up ngrok
#   o
#   docker-compose --profile dev --profile monitoring up
#
# Dashboard: http://localhost:4040
# ============================================

version: "2"

# Auth token (obtener de https://dashboard.ngrok.com/get-started/your-authtoken)
# Se configura via variable de entorno NGROK_AUTHTOKEN
# authtoken: TU_TOKEN_AQUI

# Región (más cercana a Chile)
region: sa  # South America

# Tunnels
tunnels:
  backend:
    proto: http
    addr: backend:8000  # Apunta al servicio backend en la red Docker
    schemes:
      - https
    inspect: true
    # Dominio custom (solo para planes pagos de ngrok)
    # domain: tu-dominio.ngrok.app

  # Flower (opcional - comentado por defecto)
  # flower:
  #   proto: http
  #   addr: flower:5555
  #   schemes:
  #     - https
  #   inspect: false

# Configuración web interface
web_addr: 0.0.0.0:4040

# Log
log_level: info
log_format: json

# Console UI
console_ui: true
